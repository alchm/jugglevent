/////////////////////
/// Language support
/////////////////////
var Dictionnary = {
    globals : null,
    lang_fr : null,
    lang_en : null
}

exports.loadLanguages = function() {
    Dictionnary.globals = require('../lang/globals.js').globals;
    Dictionnary.fr = require('../lang/fr').lang;
    Dictionnary.en = require('../lang/en').lang;
}

exports.getLanguage = function(lang) {
    return {
        lang: Dictionnary[ lang ],
        globals: Dictionnary.globals
    };
}

//////////////////
/// Init function
//////////////////
exports.init = function() {

	String.prototype.ucwords = function() {
    var str = this.toLowerCase();
    return str.replace(/(^([a-zA-Z\p{M}]))|([ -][a-zA-Z\p{M}])/g,
        function($1){
            return $1.toUpperCase();
        });
	}

    String.prototype.containsString = function(str) {
        return this.indexOf(str) != -1;
    };

    Array.prototype.toObject = function() {
        var rv = {};
        for (var i = 0; i < this.length; ++i)
            rv[i] = this[i];
        return rv;
    }

    exports.loadLanguages();

}

